{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rosic\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\UNIVESP\\\\gerenciadorTarefas\\\\gerenciador-tarefas\\\\src\\\\Pages\\\\Login\\\\rotaProtegida.js\",\n  _s = $RefreshSig$();\nimport { Navigate } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { supabase } from \"../../supabaseClient\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RotaProtegida({\n  children\n}) {\n  _s();\n  const [usuario, setUsuario] = useState(null);\n  useEffect(() => {\n    // Função assíncrona para obter o usuário\n    const fetchUser = async () => {\n      const {\n        data\n      } = await supabase.auth.getUser();\n      setUsuario((data === null || data === void 0 ? void 0 : data.user) || null); // Atualiza o estado com o usuário ou null se não houver\n    };\n    fetchUser(); // Chama a função para buscar o usuário\n  }, []); // O useEffect será executado apenas uma vez na montagem do componente\n\n  // Enquanto a informação do usuário não chega, renderiza um loading ou nada\n  if (usuario === null) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Carregando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Se não houver usuário, redireciona para a página inicial\n  if (!usuario) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Se houver usuário, renderiza o conteúdo protegido\n  return children;\n}\n_s(RotaProtegida, \"gvWI9AJ8Wwyyi6pzxgiFN59soMs=\");\n_c = RotaProtegida;\nvar _c;\n$RefreshReg$(_c, \"RotaProtegida\");","map":{"version":3,"names":["Navigate","useState","useEffect","supabase","jsxDEV","_jsxDEV","RotaProtegida","children","_s","usuario","setUsuario","fetchUser","data","auth","getUser","user","fileName","_jsxFileName","lineNumber","columnNumber","to","_c","$RefreshReg$"],"sources":["C:/Users/rosic/OneDrive/Área de Trabalho/UNIVESP/gerenciadorTarefas/gerenciador-tarefas/src/Pages/Login/rotaProtegida.js"],"sourcesContent":["import { Navigate } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { supabase } from \"../../supabaseClient\";\r\n\r\nexport default function RotaProtegida({ children }) {\r\n  const [usuario, setUsuario] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Função assíncrona para obter o usuário\r\n    const fetchUser = async () => {\r\n      const { data } = await supabase.auth.getUser();\r\n      setUsuario(data?.user || null); // Atualiza o estado com o usuário ou null se não houver\r\n    };\r\n\r\n    fetchUser(); // Chama a função para buscar o usuário\r\n  }, []); // O useEffect será executado apenas uma vez na montagem do componente\r\n\r\n  // Enquanto a informação do usuário não chega, renderiza um loading ou nada\r\n  if (usuario === null) {\r\n    return <div>Carregando...</div>;\r\n  }\r\n\r\n  // Se não houver usuário, redireciona para a página inicial\r\n  if (!usuario) {\r\n    return <Navigate to=\"/\" />;\r\n  }\r\n\r\n  // Se houver usuário, renderiza o conteúdo protegido\r\n  return children;\r\n}\r\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhD,eAAe,SAASC,aAAaA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAClD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd;IACA,MAAMS,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAACC,OAAO,CAAC,CAAC;MAC9CJ,UAAU,CAAC,CAAAE,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEG,IAAI,KAAI,IAAI,CAAC,CAAC,CAAC;IAClC,CAAC;IAEDJ,SAAS,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER;EACA,IAAIF,OAAO,KAAK,IAAI,EAAE;IACpB,oBAAOJ,OAAA;MAAAE,QAAA,EAAK;IAAa;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACjC;;EAEA;EACA,IAAI,CAACV,OAAO,EAAE;IACZ,oBAAOJ,OAAA,CAACL,QAAQ;MAACoB,EAAE,EAAC;IAAG;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC5B;;EAEA;EACA,OAAOZ,QAAQ;AACjB;AAACC,EAAA,CAzBuBF,aAAa;AAAAe,EAAA,GAAbf,aAAa;AAAA,IAAAe,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}